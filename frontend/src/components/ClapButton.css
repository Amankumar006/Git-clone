/* Enhanced Clap Button Animations */

@keyframes spark {
  0% {
    opacity: 0;
    visibility: visible;
    transform: scale(0.3) translateY(0);
  }
  30% {
    opacity: 1;
    transform: scale(0.8) translateY(-10px);
  }
  70% {
    opacity: 1;
    transform: scale(1.2) translateY(-20px);
  }
  100% {
    opacity: 0;
    transform: scale(1.4) translateY(-30px);
  }
}

@keyframes bubbleShow {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px) scale(0.8);
  }
  20% {
    opacity: 1;
    transform: translateX(-50%) translateY(-35px) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(-40px) scale(1);
  }
}

@keyframes bubbleHide {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(-40px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-60px) scale(0.8);
  }
}

.spark-container {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 2;
  pointer-events: none;
  transform-origin: center;
}

.spark-container.left {
  transform: translate(-70%, -50%) rotate(-25deg);
}

.spark-container.right {
  transform: translate(-30%, -50%) rotate(25deg);
}

.spark-container .spark {
  opacity: 0;
  visibility: hidden;
  font-size: 10px;
  will-change: transform, opacity;
}

.spark-container.animate .spark {
  animation: spark 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.clap-bubble {
  position: absolute;
  left: 50%;
  top: 0;
  height: 32px;
  width: 32px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.85);
  color: #ffffff;
  border-radius: 16px;
  font-size: 11px;
  font-weight: 600;
  pointer-events: none;
  z-index: 3;
  backdrop-filter: blur(4px);
  will-change: transform, opacity;
  opacity: 0;
  transform: translateX(-50%) translateY(-20px) scale(0.8);
}

.clap-bubble.active {
  animation: bubbleShow 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.clap-bubble.clicked {
  animation: bubbleShow 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  transform: translateX(-50%) translateY(-42px) scale(1.05);
}

.clap-hands {
  transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  display: inline-block;
}

.clap-hands.clicked {
  transform: scale(1.15);
}